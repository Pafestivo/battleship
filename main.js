(()=>{"use strict";var n={884:(n,e,t)=>{t.d(e,{Z:()=>s});var o=t(537),r=t.n(o),a=t(645),i=t.n(a)()(r());i.push([n.id,".player h1 {\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 10px;\n}\n\n.direction {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 10px;\n}\n\n.player h2 {\n  font-size: 30px;\n}\n\n.rotate {\n  background-color: white;\n  color: black;\n  margin: 0 0 10px 10px;\n  width: max-content;\n  text-align: center;\n  border-radius: 5px;\n  font-size: 20px;\n  padding: 5px 15px;\n  cursor: pointer;\n}\n\n.rotate:hover {\n  background-color: rgb(199, 199, 199);\n}\n\n.hidden {\n  display: none\n}","",{version:3,sources:["webpack://./src/styles/prepare-game.css"],names:[],mappings:"AAAA;EACE,kBAAkB;EAClB,eAAe;EACf,mBAAmB;AACrB;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,uBAAuB;EACvB,YAAY;EACZ,qBAAqB;EACrB,kBAAkB;EAClB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,oCAAoC;AACtC;;AAEA;EACE;AACF",sourcesContent:[".player h1 {\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 10px;\n}\n\n.direction {\n  display: flex;\n  justify-content: center;\n  margin-bottom: 10px;\n}\n\n.player h2 {\n  font-size: 30px;\n}\n\n.rotate {\n  background-color: white;\n  color: black;\n  margin: 0 0 10px 10px;\n  width: max-content;\n  text-align: center;\n  border-radius: 5px;\n  font-size: 20px;\n  padding: 5px 15px;\n  cursor: pointer;\n}\n\n.rotate:hover {\n  background-color: rgb(199, 199, 199);\n}\n\n.hidden {\n  display: none\n}"],sourceRoot:""}]);const s=i},772:(n,e,t)=>{t.d(e,{Z:()=>p});var o=t(537),r=t.n(o),a=t(645),i=t.n(a),s=t(667),c=t.n(s),d=new URL(t(265),t.b),l=i()(r()),A=c()(d);l.push([n.id,"* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  background: url("+A+');\n  color: white;\n}\n\n#page-title {\n  text-align: center;\n  margin-top: 65px;\n  font-size: 100px;\n}\n\n#game-container {\n  display: flex;\n  column-gap: 70px;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: max-content;\n  margin-top: 50px;\n\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  background-color: #2389da;\n  width: 500px;\n  height: 500px;\n  transition: all 0.1s ease-in-out;\n}\n\n.box {\n  border: 1px solid black;\n}\n\n.AI-box {\n  cursor: crosshair;\n}\n\n.AI-box:hover {\n  background-color: #6200ff;\n}\n\n.details h1 {\n  font-size: 60px\n}\n\n.details p {\n  font-size: 30px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n}\n\n.highlight {\n  background-color: #6200ff;\n}\n\n.contain-ship {\n  background-color: azure;\n}\n\n.attacked {\n  background-color: #da2323;\n  cursor: not-allowed;\n}\n\n.attacked:hover {\n  background-color: #da2323;\n}\n\n.ship-hit {\n  background-color: #2354da;\n}\n\n.ship-hit::after {\n  position: absolute;\n  content: "\\274c";\n  font-size: 40px; \n  color: #FFF;\n}\n\n.ship-hit:hover {\n  cursor: not-allowed;\n  background-color: #2354da;\n}\n\n\n\n',"",{version:3,sources:["webpack://./src/styles/styles.css"],names:[],mappings:"AAAA;EACE,UAAU;EACV,SAAS;EACT,sBAAsB;AACxB;;AAEA;EACE,mDAAgD;EAChD,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,uBAAuB;EACvB,mBAAmB;EACnB,YAAY;EACZ,mBAAmB;EACnB,gBAAgB;;AAElB;;AAEA;EACE,aAAa;EACb,sCAAsC;EACtC,yBAAyB;EACzB,YAAY;EACZ,aAAa;EACb,gCAAgC;AAClC;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE;AACF;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,gCAAgC;AAClC;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,uBAAuB;AACzB;;AAEA;EACE,yBAAyB;EACzB,mBAAmB;AACrB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,mBAAmB;EACnB,yBAAyB;AAC3B",sourcesContent:['* {\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\nbody {\n  background: url(../assets/images/background.jpg);\n  color: white;\n}\n\n#page-title {\n  text-align: center;\n  margin-top: 65px;\n  font-size: 100px;\n}\n\n#game-container {\n  display: flex;\n  column-gap: 70px;\n  justify-content: center;\n  align-items: center;\n  width: 100vw;\n  height: max-content;\n  margin-top: 50px;\n\n}\n\n.board {\n  display: grid;\n  grid-template-columns: repeat(10, 1fr);\n  background-color: #2389da;\n  width: 500px;\n  height: 500px;\n  transition: all 0.1s ease-in-out;\n}\n\n.box {\n  border: 1px solid black;\n}\n\n.AI-box {\n  cursor: crosshair;\n}\n\n.AI-box:hover {\n  background-color: #6200ff;\n}\n\n.details h1 {\n  font-size: 60px\n}\n\n.details p {\n  font-size: 30px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n}\n\n.highlight {\n  background-color: #6200ff;\n}\n\n.contain-ship {\n  background-color: azure;\n}\n\n.attacked {\n  background-color: #da2323;\n  cursor: not-allowed;\n}\n\n.attacked:hover {\n  background-color: #da2323;\n}\n\n.ship-hit {\n  background-color: #2354da;\n}\n\n.ship-hit::after {\n  position: absolute;\n  content: "\\274c";\n  font-size: 40px; \n  color: #FFF;\n}\n\n.ship-hit:hover {\n  cursor: not-allowed;\n  background-color: #2354da;\n}\n\n\n\n'],sourceRoot:""}]);const p=l},561:(n,e,t)=>{t.d(e,{Z:()=>p});var o=t(537),r=t.n(o),a=t(645),i=t.n(a),s=t(667),c=t.n(s),d=new URL(t(265),t.b),l=i()(r()),A=c()(d);l.push([n.id,".overlay {\n  position: fixed;\n  display: none;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.winner-overlay {\n  position: fixed;\n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  row-gap: 30px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: url("+A+");\n  width: 600px;\n  height: 300px;\n  box-shadow: 2px 0px 10px #242424;\n}\n\n.winner-overlay h1 {\n  font-size: 60px\n}\n\n.winner-overlay p {\n  background-color: #2389da;\n  border-radius: 5px;\n  font-size: 20px;\n  padding: 10px 25px;\n  cursor: pointer;\n}\n\n.winner-overlay p:hover {\n  background-color: #6200ff;\n}\n\n","",{version:3,sources:["webpack://./src/styles/winner-overlay.css"],names:[],mappings:"AAAA;EACE,eAAe;EACf,aAAa;EACb,MAAM;EACN,OAAO;EACP,YAAY;EACZ,aAAa;EACb,oCAAoC;AACtC;;AAEA;EACE,eAAe;EACf,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;EACnB,aAAa;EACb,QAAQ;EACR,SAAS;EACT,gCAAgC;EAChC,mDAAgD;EAChD,YAAY;EACZ,aAAa;EACb,gCAAgC;AAClC;;AAEA;EACE;AACF;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,yBAAyB;AAC3B",sourcesContent:[".overlay {\n  position: fixed;\n  display: none;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.winner-overlay {\n  position: fixed;\n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  row-gap: 30px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: url(../assets/images/background.jpg);\n  width: 600px;\n  height: 300px;\n  box-shadow: 2px 0px 10px #242424;\n}\n\n.winner-overlay h1 {\n  font-size: 60px\n}\n\n.winner-overlay p {\n  background-color: #2389da;\n  border-radius: 5px;\n  font-size: 20px;\n  padding: 10px 25px;\n  cursor: pointer;\n}\n\n.winner-overlay p:hover {\n  background-color: #6200ff;\n}\n\n"],sourceRoot:""}]);const p=l},645:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<n.length;d++){var l=[].concat(n[d]);o&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},667:n=>{n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},537:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),a="/*# ".concat(r," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},379:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],s=0;s<n.length;s++){var c=n[s],d=o.base?c[0]+o.base:c[0],l=a[d]||0,A="".concat(d," ").concat(l);a[d]=l+1;var p=t(A),u={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var h=r(u,o);o.byIndex=s,e.splice(s,0,{identifier:A,updater:h,references:1})}i.push(A)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var c=o(n,r),d=0;d<a.length;d++){var l=t(a[d]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},216:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},565:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},795:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},589:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},265:(n,e,t)=>{n.exports=t.p+"assets/images/background.jpg"}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var o=e.getElementsByTagName("script");o.length&&(n=o[o.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{function n(n,e){const t=document.getElementById("player-board"),o=document.getElementById("AI-board"),r=document.querySelector(".player > h1"),a=document.querySelector(".direction"),i=document.querySelector("#AI-player");r.classList.add("hidden"),a.classList.add("hidden"),i.classList.remove("hidden"),t.innerHTML="";for(let e=0;e<n.board.length;e++){const o=document.createElement("div");o.id=`p${e}`,o.classList.add("box"),n.board[e].ship&&o.classList.add("contain-ship"),t.append(o)}for(let r=0;r<e.board.length;r++){const a=document.createElement("div");a.id=e.board[r].coordinates,a.classList.add("AI-box","box"),a.addEventListener("click",(()=>{if(e.board[r].attacked)return;n.shoot(e,e.board[r].coordinates),e.board[r].ship?(a.classList.add("ship-hit"),e.board[r].ship.isSunk&&(o.style.backgroundColor="red",l.style.color="red",setTimeout((()=>{o.style.backgroundColor="#2389da",l.style.color="#fff"}),50),e.board[r].ship.shipCoordinates.forEach((n=>{e.gameBoard.getAdjacentBoxes(n).forEach((n=>{document.getElementById(n.coordinates).classList.add("attacked")}))})),p())):a.classList.add("attacked");const i=n.board.indexOf(e.shoot(n)),s=document.querySelector(`#player-board > #p${i}`);n.board[i].ship?(s.classList.add("ship-hit"),n.board[i].ship.isSunk&&(t.style.backgroundColor="red",d.style.color="red",setTimeout((()=>{t.style.backgroundColor="#2389da",d.style.color="#fff"}),50),n.board[i].ship.shipCoordinates.forEach((e=>{n.gameBoard.getAdjacentBoxes(e).forEach((e=>{const t=n.board.find((n=>n.coordinates.every(((n,t)=>n===e.coordinates[t])))),o=n.board.indexOf(t);document.getElementById(`p${o}`).classList.add("attacked")}))})),p())):s.classList.add("attacked"),A()})),o.append(a)}const s=document.querySelector("#player-details h1"),c=document.querySelector("#AI-details h1"),d=document.querySelector("#player-details p"),l=document.querySelector("#AI-details p");function A(){d.textContent="Ships alive: "+(n.gameBoard.ships.length-n.gameBoard.sunkShips.length),l.textContent="Ships alive: "+(e.gameBoard.ships.length-e.gameBoard.sunkShips.length)}function p(){const t=document.querySelector(".overlay"),o=document.querySelector(".winner-overlay"),r=document.querySelector(".winner-overlay > h1");n.gameBoard.ships.length===n.gameBoard.sunkShips.length?(t.style.display="block",r.textContent="Computer won!",o.style.display="flex"):e.gameBoard.ships.length===e.gameBoard.sunkShips.length&&(t.style.display="block",r.textContent="Player won!",o.style.display="flex")}s.textContent=n.name,c.textContent=e.name,A()}function e(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const t=n,o=[];let r=0,a=!1;return{get length(){return t},get shipCoordinates(){return o},get id(){return e},get hits(){return r},get isSunk(){return a},addCoordinates(n){o.push(n)},hit(){r++,r===t&&(a=!0)}}}function o(){let n=[],t=[],o=[],r=0,a=1,i=1;for(let e=0;e<100;e++){let e={coordinates:[a,i],ship:null,attacked:!1,available:!0};n.push(e),a++,a>10&&(a=1,i++)}return{get board(){return n},get sunkShips(){return o},get totalHits(){return r},get ships(){return t},placeShip(o,r,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if("right"===r&&o[0]+a>11)return"ship exceeding boundaries";if("down"===r&&o[1]+a>11)return"ship exceeding boundaries";let s=[...o];for(let e=0;e<a;e++){0!==e&&("right"===r?s[0]++:s[1]++);let t=n.find((n=>n.coordinates.every(((n,e)=>n===s[e]))));if(!t)return"No such coordinates";if(!t.available)return"Some of the space is unavailable"}const c=new e(a,i);t.push(c);let d=[...o];for(let n=0;n<a;n++){let n=[...d];"right"===r?d[0]++:d[1]++,c.addCoordinates(n)}for(let e=0;e<a;e++){0!==e&&("right"===r?o[0]++:o[1]++);let[t,a]=o,i=[[t-1,a],[t+1,a],[t-1,a+1],[t-1,a-1],[t+1,a+1],[t+1,a-1],[t,a+1],[t,a-1]],s=n.find((n=>n.coordinates.every(((n,e)=>n===o[e]))));s.ship=c,s.ship.coordinates=s.coordinates,s.available=!1,i.forEach((e=>{let t=n.find((n=>n.coordinates.every(((n,t)=>n===e[t]))));t&&(t.available=!1)}))}},receiveAttack(e){const t=n.find((n=>n.coordinates.every(((n,t)=>n===e[t]))));void 0===t||t.attacked||(t.attacked=!0,r++,t.ship&&(t.ship.hit(),t.ship.isSunk&&o.push(t.ship)))},getAdjacentBoxes(n){const[e,t]=n;return[[e-1,t],[e+1,t],[e-1,t+1],[e-1,t-1],[e+1,t+1],[e+1,t-1],[e,t+1],[e,t-1]].map((n=>this.board.find((e=>e.coordinates.every(((e,t)=>e===n[t])))))).filter((n=>void 0!==n))},hasArmedShips(){let n=!1;return t.forEach((e=>{e.isSunk||(n=!0)})),n}}}var r=t(379),a=t.n(r),i=t(795),s=t.n(i),c=t(569),d=t.n(c),l=t(565),A=t.n(l),p=t(216),u=t.n(p),h=t(589),g=t.n(h),f=t(772),m={};m.styleTagTransform=g(),m.setAttributes=A(),m.insert=d().bind(null,"head"),m.domAPI=s(),m.insertStyleElement=u(),a()(f.Z,m),f.Z&&f.Z.locals&&f.Z.locals;var E=t(561),b={};b.styleTagTransform=g(),b.setAttributes=A(),b.insert=d().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=u(),a()(E.Z,b),E.Z&&E.Z.locals&&E.Z.locals;var C=t(884),y={};y.styleTagTransform=g(),y.setAttributes=A(),y.insert=d().bind(null,"head"),y.domAPI=s(),y.insertStyleElement=u(),a()(C.Z,y),C.Z&&C.Z.locals&&C.Z.locals,function(e,t){const o=document.getElementById("player-board"),r=[5,5,3,2,2,2,1];let a="right",i=0;const s=document.getElementById("direction-text");document.querySelector(".rotate").addEventListener("click",(()=>{"right"===a?a="down":"down"===a&&(a="right"),s.textContent=a}));for(let s=0;s<e.board.length;s++){const d=document.createElement("div");d.id=e.board[s].coordinates,d.classList.add("box","pre-game"),d.addEventListener("mouseover",(()=>{c.forEach((n=>{n.classList.remove("highlight");const e=d.id.split(","),t=+e[0],o=+e[1],s=n.id.split(","),c=+s[0],l=+s[1];if("right"===a){if(t<=c&&c<t+r[i]&&l===o){if(t+r[i]>11)return;n.classList.add("highlight")}}else if("down"===a&&o<=l&&l<o+r[i]&&c===t){if(o+r[i]>11)return;n.classList.add("highlight")}}))})),d.addEventListener("click",(()=>{const o=d.id.split(","),s=[];s.push(+o[0]),s.push(+o[1]),e.placeShip(s,a,r[i]),e.gameBoard.ships.length>i&&(i++,document.querySelectorAll(".highlight").forEach((n=>{n.classList.add("contain-ship")}))),r[i]||(t.placeShip(1),t.placeShip(2),t.placeShip(2),t.placeShip(2),t.placeShip(3),t.placeShip(5),t.placeShip(5),n(e,t))})),o.append(d)}const c=document.querySelectorAll(".pre-game")}(function(n){const e=new o;return{name:"player",gameBoard:e,get board(){return e.board},placeShip:(n,t,o)=>e.placeShip(n,t,o),shoot(n,e){n.gameBoard.receiveAttack(e)}}}(),function(){const n=new o;let e=!0;return{name:"AI",gameBoard:n,get board(){return n.board},placeShip(t){const o=crypto.randomUUID();let r=0;for(;r<1e3;){r++;let a=[];const i=Math.ceil(10*Math.random()),s=Math.ceil(10*Math.random());a.push(i),a.push(s);const c=["right","down"],d=c[Math.floor(Math.random()*c.length)];n.placeShip(a,d,t,o);let l=n.board.find((n=>n.coordinates.every(((n,e)=>n===a[e]))));if(null!=l.ship&&l.ship.id===o)return void(e=!0)}},shoot(n){for(;;){let e=[];const t=Math.ceil(10*Math.random()),o=Math.ceil(10*Math.random());e.push(t),e.push(o);let r=n.gameBoard.board.find((n=>n.coordinates.every(((n,t)=>n===e[t]))));if(!r.attacked)return n.gameBoard.receiveAttack(r.coordinates),r}}}}()),document.querySelector(".winner-overlay > p").addEventListener("click",(()=>{window.location.reload()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQVVaLEVBQU9wRyxPQUdoRyxJQUFJOEQsRUFBUzZCLFNBR1gsT0FEQXBGLEVBQU84RixVQUFVNEMsY0FBY25GLEVBQVMyQixhQUNqQzNCLENBR1gsQ0FDRixFQUVKLENGdEVXaUgsSUFJT3RLLFNBQVNDLGNBQWMsdUJBRS9CZ0YsaUJBQWlCLFNBQVMsS0FDbEMvRSxPQUFPbUQsU0FBU2tILFFBQVEsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGVzL3ByZXBhcmUtZ2FtZS5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZXMvc3R5bGVzLmNzcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL3N0eWxlcy93aW5uZXItb3ZlcmxheS5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9qc29ucCBjaHVuayBsb2FkaW5nIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvTW9kdWxlcy9zdGFydEdhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb25zdHJ1Y3RvcnMvU2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbnN0cnVjdG9ycy9HYW1lQm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zdHlsZXMvc3R5bGVzLmNzcz9lNDViIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGVzL3dpbm5lci1vdmVybGF5LmNzcz9kNWM5Iiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGVzL3ByZXBhcmUtZ2FtZS5jc3M/YWZlMSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL01vZHVsZXMvcHJlcGFyZUdhbWUuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2NvbnN0cnVjdG9ycy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9jb25zdHJ1Y3RvcnMvQUlwbGF5ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIucGxheWVyIGgxIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZvbnQtc2l6ZTogNDBweDtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbi5kaXJlY3Rpb24ge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcXG59XFxuXFxuLnBsYXllciBoMiB7XFxuICBmb250LXNpemU6IDMwcHg7XFxufVxcblxcbi5yb3RhdGUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBjb2xvcjogYmxhY2s7XFxuICBtYXJnaW46IDAgMCAxMHB4IDEwcHg7XFxuICB3aWR0aDogbWF4LWNvbnRlbnQ7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBmb250LXNpemU6IDIwcHg7XFxuICBwYWRkaW5nOiA1cHggMTVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLnJvdGF0ZTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTk5LCAxOTksIDE5OSk7XFxufVxcblxcbi5oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZVxcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzL3ByZXBhcmUtZ2FtZS5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLHVCQUF1QjtFQUN2QixZQUFZO0VBQ1oscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLG9DQUFvQztBQUN0Qzs7QUFFQTtFQUNFO0FBQ0ZcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLnBsYXllciBoMSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDQwcHg7XFxuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xcbn1cXG5cXG4uZGlyZWN0aW9uIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XFxufVxcblxcbi5wbGF5ZXIgaDIge1xcbiAgZm9udC1zaXplOiAzMHB4O1xcbn1cXG5cXG4ucm90YXRlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgbWFyZ2luOiAwIDAgMTBweCAxMHB4O1xcbiAgd2lkdGg6IG1heC1jb250ZW50O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgZm9udC1zaXplOiAyMHB4O1xcbiAgcGFkZGluZzogNXB4IDE1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi5yb3RhdGU6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE5OSwgMTk5LCAxOTkpO1xcbn1cXG5cXG4uaGlkZGVuIHtcXG4gIGRpc3BsYXk6IG5vbmVcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCIuLi9hc3NldHMvaW1hZ2VzL2JhY2tncm91bmQuanBnXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiKiB7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuXFxuYm9keSB7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG5cXG4jcGFnZS10aXRsZSB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW4tdG9wOiA2NXB4O1xcbiAgZm9udC1zaXplOiAxMDBweDtcXG59XFxuXFxuI2dhbWUtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBjb2x1bW4tZ2FwOiA3MHB4O1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgaGVpZ2h0OiBtYXgtY29udGVudDtcXG4gIG1hcmdpbi10b3A6IDUwcHg7XFxuXFxufVxcblxcbi5ib2FyZCB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDFmcik7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjM4OWRhO1xcbiAgd2lkdGg6IDUwMHB4O1xcbiAgaGVpZ2h0OiA1MDBweDtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2UtaW4tb3V0O1xcbn1cXG5cXG4uYm94IHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xcbn1cXG5cXG4uQUktYm94IHtcXG4gIGN1cnNvcjogY3Jvc3NoYWlyO1xcbn1cXG5cXG4uQUktYm94OmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2MjAwZmY7XFxufVxcblxcbi5kZXRhaWxzIGgxIHtcXG4gIGZvbnQtc2l6ZTogNjBweFxcbn1cXG5cXG4uZGV0YWlscyBwIHtcXG4gIGZvbnQtc2l6ZTogMzBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHRyYW5zaXRpb246IGFsbCAwLjFzIGVhc2UtaW4tb3V0O1xcbn1cXG5cXG4uaGlnaGxpZ2h0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2MjAwZmY7XFxufVxcblxcbi5jb250YWluLXNoaXAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogYXp1cmU7XFxufVxcblxcbi5hdHRhY2tlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGEyMzIzO1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG59XFxuXFxuLmF0dGFja2VkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkYTIzMjM7XFxufVxcblxcbi5zaGlwLWhpdCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMjM1NGRhO1xcbn1cXG5cXG4uc2hpcC1oaXQ6OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcMjc0Y1xcXCI7XFxuICBmb250LXNpemU6IDQwcHg7IFxcbiAgY29sb3I6ICNGRkY7XFxufVxcblxcbi5zaGlwLWhpdDpob3ZlciB7XFxuICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIzNTRkYTtcXG59XFxuXFxuXFxuXFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy9zdHlsZXMuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsVUFBVTtFQUNWLFNBQVM7RUFDVCxzQkFBc0I7QUFDeEI7O0FBRUE7RUFDRSxtREFBZ0Q7RUFDaEQsWUFBWTtBQUNkOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsZ0JBQWdCO0VBQ2hCLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsWUFBWTtFQUNaLG1CQUFtQjtFQUNuQixnQkFBZ0I7O0FBRWxCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHNDQUFzQztFQUN0Qyx5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGFBQWE7RUFDYixnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRTtBQUNGOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixnQ0FBZ0M7QUFDbEM7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSx1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsV0FBVztBQUNiOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLHlCQUF5QjtBQUMzQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIqIHtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IDA7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG5cXG5ib2R5IHtcXG4gIGJhY2tncm91bmQ6IHVybCguLi9hc3NldHMvaW1hZ2VzL2JhY2tncm91bmQuanBnKTtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuXFxuI3BhZ2UtdGl0bGUge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWFyZ2luLXRvcDogNjVweDtcXG4gIGZvbnQtc2l6ZTogMTAwcHg7XFxufVxcblxcbiNnYW1lLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgY29sdW1uLWdhcDogNzBweDtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdpZHRoOiAxMDB2dztcXG4gIGhlaWdodDogbWF4LWNvbnRlbnQ7XFxuICBtYXJnaW4tdG9wOiA1MHB4O1xcblxcbn1cXG5cXG4uYm9hcmQge1xcbiAgZGlzcGxheTogZ3JpZDtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIzODlkYTtcXG4gIHdpZHRoOiA1MDBweDtcXG4gIGhlaWdodDogNTAwcHg7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLWluLW91dDtcXG59XFxuXFxuLmJveCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG59XFxuXFxuLkFJLWJveCB7XFxuICBjdXJzb3I6IGNyb3NzaGFpcjtcXG59XFxuXFxuLkFJLWJveDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjIwMGZmO1xcbn1cXG5cXG4uZGV0YWlscyBoMSB7XFxuICBmb250LXNpemU6IDYwcHhcXG59XFxuXFxuLmRldGFpbHMgcCB7XFxuICBmb250LXNpemU6IDMwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICB0cmFuc2l0aW9uOiBhbGwgMC4xcyBlYXNlLWluLW91dDtcXG59XFxuXFxuLmhpZ2hsaWdodCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjIwMGZmO1xcbn1cXG5cXG4uY29udGFpbi1zaGlwIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGF6dXJlO1xcbn1cXG5cXG4uYXR0YWNrZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RhMjMyMztcXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XFxufVxcblxcbi5hdHRhY2tlZDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGEyMzIzO1xcbn1cXG5cXG4uc2hpcC1oaXQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIzNTRkYTtcXG59XFxuXFxuLnNoaXAtaGl0OjphZnRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjb250ZW50OiBcXFwiXFxcXDI3NGNcXFwiO1xcbiAgZm9udC1zaXplOiA0MHB4OyBcXG4gIGNvbG9yOiAjRkZGO1xcbn1cXG5cXG4uc2hpcC1oaXQ6aG92ZXIge1xcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMzU0ZGE7XFxufVxcblxcblxcblxcblwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiLi4vYXNzZXRzL2ltYWdlcy9iYWNrZ3JvdW5kLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5vdmVybGF5IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG59XFxuXFxuLndpbm5lci1vdmVybGF5IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcm93LWdhcDogMzBweDtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICBiYWNrZ3JvdW5kOiB1cmwoXCIgKyBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fICsgXCIpO1xcbiAgd2lkdGg6IDYwMHB4O1xcbiAgaGVpZ2h0OiAzMDBweDtcXG4gIGJveC1zaGFkb3c6IDJweCAwcHggMTBweCAjMjQyNDI0O1xcbn1cXG5cXG4ud2lubmVyLW92ZXJsYXkgaDEge1xcbiAgZm9udC1zaXplOiA2MHB4XFxufVxcblxcbi53aW5uZXItb3ZlcmxheSBwIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMyMzg5ZGE7XFxuICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICBmb250LXNpemU6IDIwcHg7XFxuICBwYWRkaW5nOiAxMHB4IDI1cHg7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi53aW5uZXItb3ZlcmxheSBwOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM2MjAwZmY7XFxufVxcblxcblwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMvd2lubmVyLW92ZXJsYXkuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsZUFBZTtFQUNmLGFBQWE7RUFDYixNQUFNO0VBQ04sT0FBTztFQUNQLFlBQVk7RUFDWixhQUFhO0VBQ2Isb0NBQW9DO0FBQ3RDOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsUUFBUTtFQUNSLFNBQVM7RUFDVCxnQ0FBZ0M7RUFDaEMsbURBQWdEO0VBQ2hELFlBQVk7RUFDWixhQUFhO0VBQ2IsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0U7QUFDRjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5vdmVybGF5IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMHZ3O1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcXG59XFxuXFxuLndpbm5lci1vdmVybGF5IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgcm93LWdhcDogMzBweDtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICBiYWNrZ3JvdW5kOiB1cmwoLi4vYXNzZXRzL2ltYWdlcy9iYWNrZ3JvdW5kLmpwZyk7XFxuICB3aWR0aDogNjAwcHg7XFxuICBoZWlnaHQ6IDMwMHB4O1xcbiAgYm94LXNoYWRvdzogMnB4IDBweCAxMHB4ICMyNDI0MjQ7XFxufVxcblxcbi53aW5uZXItb3ZlcmxheSBoMSB7XFxuICBmb250LXNpemU6IDYwcHhcXG59XFxuXFxuLndpbm5lci1vdmVybGF5IHAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzIzODlkYTtcXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcXG4gIGZvbnQtc2l6ZTogMjBweDtcXG4gIHBhZGRpbmc6IDEwcHggMjVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLndpbm5lci1vdmVybGF5IHA6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzYyMDBmZjtcXG59XFxuXFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIHVybCA9IFN0cmluZyh1cmwuX19lc01vZHVsZSA/IHVybC5kZWZhdWx0IDogdXJsKTtcblxuICAvLyBJZiB1cmwgaXMgYWxyZWFkeSB3cmFwcGVkIGluIHF1b3RlcywgcmVtb3ZlIHRoZW1cbiAgaWYgKC9eWydcIl0uKlsnXCJdJC8udGVzdCh1cmwpKSB7XG4gICAgdXJsID0gdXJsLnNsaWNlKDEsIC0xKTtcbiAgfVxuICBpZiAob3B0aW9ucy5oYXNoKSB7XG4gICAgdXJsICs9IG9wdGlvbnMuaGFzaDtcbiAgfVxuXG4gIC8vIFNob3VsZCB1cmwgYmUgd3JhcHBlZD9cbiAgLy8gU2VlIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtdmFsdWVzLTMvI3VybHNcbiAgaWYgKC9bXCInKCkgXFx0XFxuXXwoJTIwKS8udGVzdCh1cmwpIHx8IG9wdGlvbnMubmVlZFF1b3Rlcykge1xuICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodXJsLnJlcGxhY2UoL1wiL2csICdcXFxcXCInKS5yZXBsYWNlKC9cXG4vZywgXCJcXFxcblwiKSwgXCJcXFwiXCIpO1xuICB9XG4gIHJldHVybiB1cmw7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cbiAgY3NzICs9IG9iai5jc3M7XG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH1cblxuICAvLyBGb3Igb2xkIElFXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cbiAgICB9O1xuICB9XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzdGFydEdhbWUocGxheWVyLCBBSSkge1xuXG4gIC8vIHNlbGVjdCB0aGUgY29udGFpbmVycyBvZiBlYWNoIGJvYXJkXG4gIGNvbnN0IHBsYXllckJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllci1ib2FyZCcpXG4gIGNvbnN0IEFJQm9hcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQUktYm9hcmQnKVxuXG5cbiAgLy8gaGlkZSBwbGFjZSB5b3VyIHNoaXBzIHRpdGxlLCByZXZlYWwgQUkgYm9hcmRcbiAgY29uc3QgcGxhY2VTaGlwc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllciA+IGgxJylcbiAgY29uc3QgY2hhbmdlRGlyZWN0aW9uQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRpcmVjdGlvbicpXG4gIGNvbnN0IEFJU2lkZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNBSS1wbGF5ZXInKVxuICBwbGFjZVNoaXBzVGl0bGUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJylcbiAgY2hhbmdlRGlyZWN0aW9uQnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gIEFJU2lkZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuXG4gIC8vIHJlc2V0IHRoZSBwbGF5ZXIgYm9hcmRcbiAgcGxheWVyQm9hcmQuaW5uZXJIVE1MID0gXCJcIlxuXG4gIC8vIHJlbmRlciB0aGUgcGxheWVyIGJvYXJkXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBwbGF5ZXIuYm9hcmQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGJveC5pZCA9IGBwJHtpfWBcbiAgICBib3guY2xhc3NMaXN0LmFkZCgnYm94JylcbiAgICAvLyBzaG93cyBzaGlwcyBvbiB0aGUgYm9hcmRcbiAgICBpZihwbGF5ZXIuYm9hcmRbaV0uc2hpcCkgYm94LmNsYXNzTGlzdC5hZGQoJ2NvbnRhaW4tc2hpcCcpXG4gICAgcGxheWVyQm9hcmQuYXBwZW5kKGJveClcbiAgfVxuXG4gIC8vIHJlbmRlciB0aGUgQUkgYm9hcmRcbiAgZm9yKGxldCBpID0gMDsgaSA8IEFJLmJvYXJkLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBib3guaWQgPSBBSS5ib2FyZFtpXS5jb29yZGluYXRlcyAvLyBzZXQgdGhlIGlkIG9mIHRoZSBib3ggdG8gaXQncyBjb29yZGluYXRlc1xuICAgIGJveC5jbGFzc0xpc3QuYWRkKCdBSS1ib3gnLCAnYm94JylcblxuICAgIC8vIHdoZW4gYm94IGlzIGNsaWNrZWRcbiAgICBib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAvLyBkbyBub3RoaW5nIGlmIGl0J3MgYWxyZWFkeSBhdHRhY2tlZFxuICAgICAgaWYoQUkuYm9hcmRbaV0uYXR0YWNrZWQpIHJldHVyblxuICAgICAgLy8gaWYgbm90LCBzaG9vdCBBSSBhdCBsb2NhdGlvblxuICAgICAgcGxheWVyLnNob290KEFJLCBBSS5ib2FyZFtpXS5jb29yZGluYXRlcylcbiAgICAgIC8vIGlmIHNoaXAgZ290IGhpdFxuICAgICAgaWYoQUkuYm9hcmRbaV0uc2hpcCkge1xuICAgICAgICBib3guY2xhc3NMaXN0LmFkZCgnc2hpcC1oaXQnKVxuICAgICAgICAvLyBpZiBzaGlwIHN1bmtcbiAgICAgICAgaWYoQUkuYm9hcmRbaV0uc2hpcC5pc1N1bmspIHtcbiAgICAgICAgICBBSUJvYXJkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZWQnXG4gICAgICAgICAgQUlTdGF0ZS5zdHlsZS5jb2xvciA9ICdyZWQnXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBBSUJvYXJkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMjM4OWRhJ1xuICAgICAgICAgICAgQUlTdGF0ZS5zdHlsZS5jb2xvciA9ICcjZmZmJ1xuICAgICAgICAgIH0sIDUwKVxuICAgICAgICAgIC8vIG1hcmsgYWRqYWNlbnQgYXMgYXR0YWNrZWRcbiAgICAgICAgICBjb25zdCBzaGlwQ29vcmRzID0gQUkuYm9hcmRbaV0uc2hpcC5zaGlwQ29vcmRpbmF0ZXNcbiAgICAgICAgICBzaGlwQ29vcmRzLmZvckVhY2goY29vcmRzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFkamFjZW50Qm94ZXMgPSBBSS5nYW1lQm9hcmQuZ2V0QWRqYWNlbnRCb3hlcyhjb29yZHMpXG4gICAgICAgICAgICBhZGphY2VudEJveGVzLmZvckVhY2goYWRqYWNlbnQgPT4ge1xuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhZGphY2VudC5jb29yZGluYXRlcykuY2xhc3NMaXN0LmFkZCgnYXR0YWNrZWQnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC8vIGNoZWNrIGlmIGdhbWUgaXMgb3ZlclxuICAgICAgICAgIGlzR2FtZU92ZXIoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGJveC5jbGFzc0xpc3QuYWRkKCdhdHRhY2tlZCcpXG5cbiAgICAgIC8vIHRoZW4gQUkgc2hvb3RzIGJhY2sgYXQgcmFuZG9tIGxvY2F0aW9uXG4gICAgICBjb25zdCBBSUhpdCA9IHBsYXllci5ib2FyZC5pbmRleE9mKEFJLnNob290KHBsYXllcikpXG4gICAgICBjb25zdCB0YXJnZXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcGxheWVyLWJvYXJkID4gI3Ake0FJSGl0fWApXG4gICAgICAvLyBpZiBzaGlwIGdvdCBoaXRcbiAgICAgIGlmKHBsYXllci5ib2FyZFtBSUhpdF0uc2hpcCkge1xuICAgICAgICB0YXJnZXRCb3guY2xhc3NMaXN0LmFkZCgnc2hpcC1oaXQnKSBcbiAgICAgICAgLy8gaWYgc2hpcCBzdW5rXG4gICAgICAgIGlmKHBsYXllci5ib2FyZFtBSUhpdF0uc2hpcC5pc1N1bmspIHtcbiAgICAgICAgICBwbGF5ZXJCb2FyZC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmVkJ1xuICAgICAgICAgIHBsYXllclN0YXRlLnN0eWxlLmNvbG9yID0gJ3JlZCdcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHBsYXllckJvYXJkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjMjM4OWRhJ1xuICAgICAgICAgICAgcGxheWVyU3RhdGUuc3R5bGUuY29sb3IgPSAnI2ZmZidcbiAgICAgICAgICB9LCA1MClcbiAgICAgICAgICAvLyBtYXJrIGFkamFjZW50IGFzIGF0dGFja2VkXG4gICAgICAgICAgY29uc3Qgc2hpcENvb3JkcyA9IHBsYXllci5ib2FyZFtBSUhpdF0uc2hpcC5zaGlwQ29vcmRpbmF0ZXNcbiAgICAgICAgICBzaGlwQ29vcmRzLmZvckVhY2goY29vcmRzID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFkamFjZW50Qm94ZXMgPSBwbGF5ZXIuZ2FtZUJvYXJkLmdldEFkamFjZW50Qm94ZXMoY29vcmRzKVxuICAgICAgICAgICAgYWRqYWNlbnRCb3hlcy5mb3JFYWNoKGFkamFjZW50ID0+IHtcbiAgICAgICAgICAgICAgLy8gZmluZCB0aGUgY29ycmVjdCBib3ggaW4gdGhlIGFycmF5IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGNvb3JkXG4gICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRCb3ggPSBwbGF5ZXIuYm9hcmQuZmluZChpdGVtID0+IGl0ZW0uY29vcmRpbmF0ZXMuZXZlcnkoKGNvb3JkLCBpbmRleCkgPT4gY29vcmQgPT09IGFkamFjZW50LmNvb3JkaW5hdGVzW2luZGV4XSkpXG4gICAgICAgICAgICAgIC8vIGdldCB0aGUgaW5kZXggb2YgdGhpcyBib3hcbiAgICAgICAgICAgICAgY29uc3QgY3VycmVudEJveEluZGV4ID0gcGxheWVyLmJvYXJkLmluZGV4T2YoY3VycmVudEJveClcbiAgICAgICAgICAgICAgLy8gdXNlIHNlbGVjdG9yIHRvIHNlbGVjdCB0aGUgYm94IHdpdGggdGhlIGluZGV4IGFzIGl0J3MgaWRcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHAke2N1cnJlbnRCb3hJbmRleH1gKS5jbGFzc0xpc3QuYWRkKCdhdHRhY2tlZCcpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLy8gY2hlY2sgaWYgZ2FtZSBpcyBvdmVyXG4gICAgICAgICAgaXNHYW1lT3ZlcigpXG4gICAgICAgIH1cbiAgICAgIH0gXG4gICAgICBlbHNlIHRhcmdldEJveC5jbGFzc0xpc3QuYWRkKCdhdHRhY2tlZCcpXG4gICAgICB1cGRhdGVTaGlwc0RldGFpbHMoKVxuICAgIH0pXG4gICAgQUlCb2FyZC5hcHBlbmQoYm94KVxuICB9XG5cbiAgLy8gYWRkIHBsYXllciBkZXRhaWxzOlxuICBjb25zdCBwbGF5ZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BsYXllci1kZXRhaWxzIGgxJylcbiAgY29uc3QgQUlOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0FJLWRldGFpbHMgaDEnKVxuICBjb25zdCBwbGF5ZXJTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbGF5ZXItZGV0YWlscyBwJylcbiAgY29uc3QgQUlTdGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNBSS1kZXRhaWxzIHAnKVxuICBwbGF5ZXJOYW1lLnRleHRDb250ZW50ID0gcGxheWVyLm5hbWVcbiAgQUlOYW1lLnRleHRDb250ZW50ID0gQUkubmFtZVxuICB1cGRhdGVTaGlwc0RldGFpbHMoKVxuXG5cbiAgZnVuY3Rpb24gdXBkYXRlU2hpcHNEZXRhaWxzKCkge1xuICAgIHBsYXllclN0YXRlLnRleHRDb250ZW50ID0gYFNoaXBzIGFsaXZlOiAke3BsYXllci5nYW1lQm9hcmQuc2hpcHMubGVuZ3RoIC0gcGxheWVyLmdhbWVCb2FyZC5zdW5rU2hpcHMubGVuZ3RofWBcbiAgICBBSVN0YXRlLnRleHRDb250ZW50ID0gYFNoaXBzIGFsaXZlOiAke0FJLmdhbWVCb2FyZC5zaGlwcy5sZW5ndGggLSBBSS5nYW1lQm9hcmQuc3Vua1NoaXBzLmxlbmd0aH1gXG4gIH1cblxuICBmdW5jdGlvbiBpc0dhbWVPdmVyKCkge1xuICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3ZlcmxheScpXG4gICAgY29uc3Qgd2lubmVyT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5uZXItb3ZlcmxheScpXG4gICAgY29uc3Qgd2lubmVyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5uZXItb3ZlcmxheSA+IGgxJylcblxuICAgIC8vIGlmIHBsYXllciBoYXMgbm8gbW9yZSBzaGlwcyBhbGl2ZVxuICAgIGlmKHBsYXllci5nYW1lQm9hcmQuc2hpcHMubGVuZ3RoID09PSBwbGF5ZXIuZ2FtZUJvYXJkLnN1bmtTaGlwcy5sZW5ndGgpIHtcbiAgICAgIC8vIGNvbXB1dGVyIHdpbnNcbiAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgIHdpbm5lck5hbWUudGV4dENvbnRlbnQgPSAnQ29tcHV0ZXIgd29uISdcbiAgICAgIHdpbm5lck92ZXJsYXkuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xuICAgIH1cbiAgICAvLyBpZiBjb21wdXRlciBoYXMgbm8gbW9yZSBzaGlwcyBhbGl2ZVxuICAgIGVsc2UgaWYoQUkuZ2FtZUJvYXJkLnNoaXBzLmxlbmd0aCA9PT0gQUkuZ2FtZUJvYXJkLnN1bmtTaGlwcy5sZW5ndGgpIHtcbiAgICAgIC8vIHBsYXllciB3aW5zXG4gICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICB3aW5uZXJOYW1lLnRleHRDb250ZW50ID0gJ1BsYXllciB3b24hJ1xuICAgICAgd2lubmVyT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnXG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2hpcChsZW4sIGlkID0gbnVsbCkge1xuICBjb25zdCBsZW5ndGggPSBsZW5cbiAgY29uc3Qgc2hpcENvb3JkaW5hdGVzID0gW11cbiAgbGV0IGhpdHMgPSAwXG4gIGxldCBpc1N1bmsgPSBmYWxzZVxuICByZXR1cm4ge1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoXG4gICAgfSxcblxuICAgIGdldCBzaGlwQ29vcmRpbmF0ZXMoKSB7XG4gICAgICByZXR1cm4gc2hpcENvb3JkaW5hdGVzXG4gICAgfSxcbiAgICBcbiAgICBnZXQgaWQoKSB7XG4gICAgICByZXR1cm4gaWRcbiAgICB9LFxuXG4gICAgZ2V0IGhpdHMoKSB7XG4gICAgICByZXR1cm4gaGl0c1xuICAgIH0sXG5cbiAgICBnZXQgaXNTdW5rKCkge1xuICAgICAgcmV0dXJuIGlzU3Vua1xuICAgIH0sXG5cbiAgICBhZGRDb29yZGluYXRlcyhjb29yZCkge1xuICAgICAgc2hpcENvb3JkaW5hdGVzLnB1c2goY29vcmQpXG4gICAgfSxcblxuICAgIGhpdCgpIHtcbiAgICAgIGhpdHMrK1xuICAgICAgaWYoaGl0cyA9PT0gbGVuZ3RoKSBpc1N1bmsgPSB0cnVlXG4gICAgfVxuICB9XG59IiwiaW1wb3J0IFNoaXAgZnJvbSBcIi4vU2hpcFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEdhbWVCb2FyZCgpIHtcbiAgbGV0IGJvYXJkID0gW11cbiAgbGV0IHNoaXBzID0gW11cbiAgbGV0IHN1bmtTaGlwcyA9IFtdXG4gIGxldCB0b3RhbEhpdHMgPSAwXG4gIGxldCBncmlkU2l6ZSA9IDEwMFxuICAvLyBpbml0aWFsaXplIGNvb3JkaW5hdGVzIGF0IDEsMVxuICBsZXQgeCA9IDFcbiAgbGV0IHkgPSAxXG4gIGZvcihsZXQgaSA9IDA7IGkgPCBncmlkU2l6ZTsgaSsrKSB7XG4gICAgLy8gbWFrZSBlYWNoIGJveCBhbiBvYmplY3QgY29udGFpbmluZyBkYXRhXG4gICAgbGV0IGJveCA9IHtcbiAgICAgIFwiY29vcmRpbmF0ZXNcIjogW3gseV0sXG4gICAgICBcInNoaXBcIjogbnVsbCxcbiAgICAgIFwiYXR0YWNrZWRcIjogZmFsc2UsXG4gICAgICBcImF2YWlsYWJsZVwiOiB0cnVlXG4gICAgfVxuICAgIC8vIGFkZCBvYmplY3QgdG8gZ2FtZUJvYXJkIGFycmF5XG4gICAgYm9hcmQucHVzaChib3gpXG4gICAgXG4gICAgLy8gaW5jcmVtZW50IHggYW5kIHkgY29vcmRpbmF0ZXNcbiAgICB4KytcbiAgICBpZih4ID4gMTApIHtcbiAgICAgIHggPSAxXG4gICAgICB5KytcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0IGJvYXJkKCkge1xuICAgICAgcmV0dXJuIGJvYXJkXG4gICAgfSxcblxuICAgIGdldCBzdW5rU2hpcHMoKSB7XG4gICAgICByZXR1cm4gc3Vua1NoaXBzXG4gICAgfSxcblxuICAgIGdldCB0b3RhbEhpdHMoKSB7XG4gICAgICByZXR1cm4gdG90YWxIaXRzXG4gICAgfSxcblxuICAgIGdldCBzaGlwcygpIHtcbiAgICAgIHJldHVybiBzaGlwc1xuICAgIH0sXG5cbiAgICBwbGFjZVNoaXAoY29vcmRzLCBkaXJlY3Rpb24sIGxlbiwgaWQgPSBudWxsKSB7XG4gICAgICAvLyBjaGVjayBpZiBzaGlwIHN0YXlzIHdpdGhpbiBib3VuZGFyaWVzXG4gICAgICBpZihkaXJlY3Rpb24gPT09ICdyaWdodCcgJiYgY29vcmRzWzBdICsgbGVuID4gMTEpIHJldHVybiAnc2hpcCBleGNlZWRpbmcgYm91bmRhcmllcydcbiAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ2Rvd24nICYmIGNvb3Jkc1sxXSArIGxlbiA+IDExKSByZXR1cm4gJ3NoaXAgZXhjZWVkaW5nIGJvdW5kYXJpZXMnXG5cbiAgICAgIGxldCBjb29yZHNDb3B5ID0gWy4uLmNvb3Jkc11cblxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmKGkgIT09IDApIHtcbiAgICAgICAgICBpZihkaXJlY3Rpb24gPT09ICdyaWdodCcpIGNvb3Jkc0NvcHlbMF0rK1xuICAgICAgICAgIGVsc2UgY29vcmRzQ29weVsxXSArK1xuICAgICAgICB9XG4gICAgICAgIGxldCBjaG9zZW5Mb2NhdGlvbiA9IGJvYXJkLmZpbmQoYm94ID0+IGJveC5jb29yZGluYXRlcy5ldmVyeSgoY29vcmQsIGluZGV4KSA9PiBjb29yZCA9PT0gY29vcmRzQ29weVtpbmRleF0pKVxuICAgICAgICBpZighY2hvc2VuTG9jYXRpb24pIHJldHVybiAnTm8gc3VjaCBjb29yZGluYXRlcydcbiAgICAgICAgaWYoIWNob3NlbkxvY2F0aW9uLmF2YWlsYWJsZSkgcmV0dXJuICdTb21lIG9mIHRoZSBzcGFjZSBpcyB1bmF2YWlsYWJsZSdcbiAgICAgIH1cblxuICAgICAgLy8gY3JlYXRlcyB0aGUgc2hpcFxuICAgICAgY29uc3QgYmF0dGxlc2hpcCA9IG5ldyBTaGlwKGxlbiwgaWQpXG4gICAgICBzaGlwcy5wdXNoKGJhdHRsZXNoaXApXG5cbiAgICAgIC8vIGFkZCB0aGUgc2hpcCBjb29yZGluYXRlcyB0byB0aGUgc2hpcCBvYmplY3RcbiAgICAgIGxldCBjb29yZGluYXRlc0NvcHkgPSBbLi4uY29vcmRzXVxuICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGxldCBjdXJyZW50Q29vcmRzID0gWy4uLmNvb3JkaW5hdGVzQ29weV1cblxuICAgICAgICBpZihkaXJlY3Rpb24gPT09ICdyaWdodCcpIGNvb3JkaW5hdGVzQ29weVswXSsrXG4gICAgICAgIGVsc2UgY29vcmRpbmF0ZXNDb3B5WzFdKytcblxuICAgICAgICBiYXR0bGVzaGlwLmFkZENvb3JkaW5hdGVzKGN1cnJlbnRDb29yZHMpXG4gICAgICB9XG5cbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyBza2lwcyBzdGF0ZW1lbnQgb24gZmlyc3Qgcm91bmQgdG8gYWRkIHRoZSBjaG9zZW4gY29vcmRpbmF0ZXNcbiAgICAgICAgaWYoaSAhPT0gMCkge1xuICAgICAgICAgIC8vIGNvbnRpbnVlIG1vdmluZyBpbiB0aGUgY2hvc2VuIGRpcmVjdGlvblxuICAgICAgICAgIGlmKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JykgY29vcmRzWzBdKytcbiAgICAgICAgICBlbHNlIGNvb3Jkc1sxXSsrXG4gICAgICAgIH1cblxuICAgICAgICAvLyBtYWtlIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBhZGphY2VudCBsb2NhdGlvbnNcbiAgICAgICAgbGV0IFthLCBiXSA9IGNvb3JkcztcbiAgICAgICAgbGV0IGFkamFjZW50TG9jYXRpb25zID0gW1xuICAgICAgICAgIFthIC0gMSwgYl0sXG4gICAgICAgICAgW2EgKyAxLCBiXSxcbiAgICAgICAgICBbYSAtIDEsIGIgKyAxXSxcbiAgICAgICAgICBbYSAtIDEsIGIgLSAxXSxcbiAgICAgICAgICBbYSArIDEsIGIgKyAxXSxcbiAgICAgICAgICBbYSArIDEsIGIgLSAxXSxcbiAgICAgICAgICBbYSwgYiArIDFdLFxuICAgICAgICAgIFthLCBiIC0gMV1cbiAgICAgICAgXTtcblxuICAgICAgICBsZXQgY2hvc2VuTG9jYXRpb24gPSBib2FyZC5maW5kKGJveCA9PiBib3guY29vcmRpbmF0ZXMuZXZlcnkoKGNvb3JkLCBpbmRleCkgPT4gY29vcmQgPT09IGNvb3Jkc1tpbmRleF0pKVxuICAgICAgICBjaG9zZW5Mb2NhdGlvbi5zaGlwID0gYmF0dGxlc2hpcFxuICAgICAgICBjaG9zZW5Mb2NhdGlvbi5zaGlwLmNvb3JkaW5hdGVzID0gY2hvc2VuTG9jYXRpb24uY29vcmRpbmF0ZXNcblxuICAgICAgICAvLyBzZXQgc2hpcCBib3hlcyBhbmQgYWRqYWNlbnQgYm94ZXMgdW5hdmFpbGFibGVcbiAgICAgICAgY2hvc2VuTG9jYXRpb24uYXZhaWxhYmxlID0gZmFsc2VcbiAgICAgICAgYWRqYWNlbnRMb2NhdGlvbnMuZm9yRWFjaChsb2NhdGlvbiA9PiB7XG4gICAgICAgICAgbGV0IGN1cnJlbnQgPSBib2FyZC5maW5kKGJveCA9PiBib3guY29vcmRpbmF0ZXMuZXZlcnkoKGNvb3JkLCBpbmRleCkgPT4gY29vcmQgPT09IGxvY2F0aW9uW2luZGV4XSkpXG4gICAgICAgICAgaWYoY3VycmVudCkgY3VycmVudC5hdmFpbGFibGUgPSBmYWxzZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sXG5cbiAgICByZWNlaXZlQXR0YWNrKGNvb3Jkcykge1xuICAgICAgY29uc3QgY2hvc2VuTG9jYXRpb24gPSBib2FyZC5maW5kKGJveCA9PiBib3guY29vcmRpbmF0ZXMuZXZlcnkoKGNvb3JkLCBpbmRleCkgPT4gY29vcmQgPT09IGNvb3Jkc1tpbmRleF0pKVxuICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIGlzIG91dCBvZiBib3VuZGFyaWVzIG9yIHdhcyBhbHJlYWR5IGF0dGFja2VkXG4gICAgICBpZihjaG9zZW5Mb2NhdGlvbiA9PT0gdW5kZWZpbmVkIHx8IGNob3NlbkxvY2F0aW9uLmF0dGFja2VkKSByZXR1cm5cbiAgICBcbiAgICAgIC8vIG1hcmsgbG9jYXRpb24gYXMgYXR0YWNrZWRcbiAgICAgIGNob3NlbkxvY2F0aW9uLmF0dGFja2VkID0gdHJ1ZVxuICAgICAgdG90YWxIaXRzKytcbiAgICAgIC8vIGhpdCBzaGlwIGlmIHByZXNlbnRcbiAgICAgIGlmKGNob3NlbkxvY2F0aW9uLnNoaXApIHtcbiAgICAgICAgY2hvc2VuTG9jYXRpb24uc2hpcC5oaXQoKVxuICAgICAgICAvLyBpZiBzaGlwIHN1bmssIGFkZCB0byBzdW5rU2hpcHNcbiAgICAgICAgaWYoY2hvc2VuTG9jYXRpb24uc2hpcC5pc1N1bmspIHtcbiAgICAgICAgICBzdW5rU2hpcHMucHVzaChjaG9zZW5Mb2NhdGlvbi5zaGlwKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8vIHJldHVybiB0aGUgYWRqYWNlbnQgbG9jYXRpb25zXG4gICAgZ2V0QWRqYWNlbnRCb3hlcyhjb29yZHMpIHtcbiAgICAgIGNvbnN0IFthLCBiXSA9IGNvb3JkcztcbiAgICAgIGNvbnN0IGFkamFjZW50TG9jYXRpb25zID0gW1xuICAgICAgICBbYSAtIDEsIGJdLFxuICAgICAgICBbYSArIDEsIGJdLFxuICAgICAgICBbYSAtIDEsIGIgKyAxXSxcbiAgICAgICAgW2EgLSAxLCBiIC0gMV0sXG4gICAgICAgIFthICsgMSwgYiArIDFdLFxuICAgICAgICBbYSArIDEsIGIgLSAxXSxcbiAgICAgICAgW2EsIGIgKyAxXSxcbiAgICAgICAgW2EsIGIgLSAxXVxuICAgICAgXTtcbiAgICAgIGNvbnN0IGFkamFjZW50Qm94ZXMgPSBhZGphY2VudExvY2F0aW9ucy5tYXAobG9jYXRpb24gPT4ge1xuICAgICAgICBjb25zdCBhZGphY2VudEJveCA9IHRoaXMuYm9hcmQuZmluZChib3ggPT4gYm94LmNvb3JkaW5hdGVzLmV2ZXJ5KChjb29yZCwgaW5kZXgpID0+IGNvb3JkID09PSBsb2NhdGlvbltpbmRleF0pKTtcbiAgICAgICAgcmV0dXJuIGFkamFjZW50Qm94O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWRqYWNlbnRCb3hlcy5maWx0ZXIoYm94ID0+IGJveCAhPT0gdW5kZWZpbmVkKTtcbiAgICB9LFxuICAgIFxuICAgIGhhc0FybWVkU2hpcHMoKSB7XG4gICAgICBsZXQgYXJtZWRTaGlwcyA9IGZhbHNlXG4gICAgICBzaGlwcy5mb3JFYWNoKHNoaXAgPT4ge1xuICAgICAgICBpZighc2hpcC5pc1N1bmspIGFybWVkU2hpcHMgPSB0cnVlXG4gICAgICB9KVxuICAgICAgcmV0dXJuIGFybWVkU2hpcHNcbiAgICB9XG4gIH1cbn0iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi93aW5uZXItb3ZlcmxheS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3dpbm5lci1vdmVybGF5LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9wcmVwYXJlLWdhbWUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9wcmVwYXJlLWdhbWUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHN0YXJ0R2FtZSBmcm9tIFwiLi9zdGFydEdhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHJlcGFyZUdhbWUocGxheWVyLCBBSSkge1xuXG4gIGNvbnN0IHBsYXllckJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllci1ib2FyZCcpXG4gIGNvbnN0IHNoaXBMZW5zID0gWzUsIDUsIDMsIDIsIDIsIDIsIDFdXG4gIGxldCBkaXJlY3Rpb24gPSAncmlnaHQnXG4gIGxldCBjdXJyZW50U2hpcCA9IDBcblxuICAvLyBoYW5kbGUgY2hhbmdpbmcgZGlyZWN0aW9uXG4gIGNvbnN0IGRpcmVjdGlvblRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlyZWN0aW9uLXRleHQnKVxuICBjb25zdCByb3RhdGVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucm90YXRlJylcbiAgcm90YXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChkaXJlY3Rpb24gPT09ICdyaWdodCcpIGRpcmVjdGlvbiA9ICdkb3duJ1xuICAgIGVsc2UgaWYoZGlyZWN0aW9uID09PSAnZG93bicpIGRpcmVjdGlvbiA9ICdyaWdodCdcbiAgICBkaXJlY3Rpb25UZXh0LnRleHRDb250ZW50ID0gZGlyZWN0aW9uXG4gIH0pXG5cbiAgZm9yKGxldCBpID0gMDsgaSA8IHBsYXllci5ib2FyZC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgYm94LmlkID0gcGxheWVyLmJvYXJkW2ldLmNvb3JkaW5hdGVzXG4gICAgYm94LmNsYXNzTGlzdC5hZGQoJ2JveCcsICdwcmUtZ2FtZScpXG4gICAgLy8gc2hvdyBzaGlwIGxvY2F0aW9uIG9uIGhvdmVyXG4gICAgYm94LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgIGFsbEJveGVzLmZvckVhY2goc3F1YXJlID0+IHtcbiAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcpXG4gICAgICAgIC8vIGdldCB0aGUgeCBhbmQgdGhlIHkgb2YgaG92ZXJlZCBib3ggYW5kIG90aGVyIHNxdWFyZXNcbiAgICAgICAgY29uc3QgaG92ZXJlZENvb3JkcyA9IGJveC5pZC5zcGxpdCgnLCcpXG4gICAgICAgIGNvbnN0IGJveFggPSAraG92ZXJlZENvb3Jkc1swXVxuICAgICAgICBjb25zdCBib3hZID0gK2hvdmVyZWRDb29yZHNbMV1cbiAgICAgICAgY29uc3Qgc3F1YXJlQ29vcmQgPSBzcXVhcmUuaWQuc3BsaXQoJywnKVxuICAgICAgICBjb25zdCBzcXVhcmVYID0gK3NxdWFyZUNvb3JkWzBdXG4gICAgICAgIGNvbnN0IHNxdWFyZVkgPSArc3F1YXJlQ29vcmRbMV1cblxuICAgICAgICAvLyBoaWdobGlnaHQgdGhlIHNoaXAgc2l6ZSBpbiB0aGUgY29ycmVjdCBkaXJlY3Rpb25cbiAgICAgICAgaWYoZGlyZWN0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgaWYoYm94WCA8PSBzcXVhcmVYICYmIHNxdWFyZVggPCBib3hYICsgc2hpcExlbnNbY3VycmVudFNoaXBdICYmIHNxdWFyZVkgPT09IGJveFkpIHtcbiAgICAgICAgICAgIC8vIGlmIHNoaXAgZXhjZWVkaW5nIHRoZSBib2FyZCByZXR1cm5cbiAgICAgICAgICAgIGlmKGJveFggKyBzaGlwTGVuc1tjdXJyZW50U2hpcF0gPiAxMSkgcmV0dXJuXG4gICAgICAgICAgICAvLyBlbHNlIGNvbG9yIHRoZSBzcXVhcmVzIHRoZSBzaGlwIHdpbGwgdGFrZVxuICAgICAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYoZGlyZWN0aW9uID09PSAnZG93bicpIHtcbiAgICAgICAgICBpZihib3hZIDw9IHNxdWFyZVkgJiYgc3F1YXJlWSA8IGJveFkgKyBzaGlwTGVuc1tjdXJyZW50U2hpcF0gJiYgc3F1YXJlWCA9PT0gYm94WCkge1xuICAgICAgICAgICAgLy8gaWYgc2hpcCBleGNlZWRpbmcgdGhlIGJvYXJkIHJldHVyblxuICAgICAgICAgICAgaWYoYm94WSArIHNoaXBMZW5zW2N1cnJlbnRTaGlwXSA+IDExKSByZXR1cm5cbiAgICAgICAgICAgIC8vIGVsc2UgY29sb3IgdGhlIHNxdWFyZXMgdGhlIHNoaXAgd2lsbCB0YWtlXG4gICAgICAgICAgICBzcXVhcmUuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0JylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSlcblxuICAgIC8vIHBsYWNlIHRoZSBzaGlwIG9uIGNsaWNrXG4gICAgYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgLy8gZ2V0IGFuIGFycmF5IG9mIHR3byBudW1iZXJzIGFzIGNvb3JkaW5hdGVzXG4gICAgICBjb25zdCBob3ZlcmVkQ29vcmRzU3RyaW5nID0gYm94LmlkLnNwbGl0KCcsJylcbiAgICAgIGNvbnN0IGhvdmVyZWRDb29yZHMgPSBbXVxuICAgICAgaG92ZXJlZENvb3Jkcy5wdXNoKCtob3ZlcmVkQ29vcmRzU3RyaW5nWzBdKVxuICAgICAgaG92ZXJlZENvb3Jkcy5wdXNoKCtob3ZlcmVkQ29vcmRzU3RyaW5nWzFdKVxuICAgICAgXG4gICAgICAvLyB0cnkgdG8gcGxhY2Ugc2hpcFxuICAgICAgcGxheWVyLnBsYWNlU2hpcChob3ZlcmVkQ29vcmRzLCBkaXJlY3Rpb24sIHNoaXBMZW5zW2N1cnJlbnRTaGlwXSlcbiAgICAgIC8vIGNoZWNrIGlmIHNoaXAgcmVhbGx5IHBsYWNlZFxuICAgICAgaWYocGxheWVyLmdhbWVCb2FyZC5zaGlwcy5sZW5ndGggPiBjdXJyZW50U2hpcCkge1xuICAgICAgICBjdXJyZW50U2hpcCsrXG4gICAgICAgIC8vIGlmIGl0J3MgcGxhY2VkLCBjaGFuZ2VkIGhpZ2hsaWdodGVkIHNxdWFyZXMgdG8gc2hpcCBzcXVhcmVzXG4gICAgICAgIGNvbnN0IGhpZ2hsaWdodGVkU3F1YXJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQnKVxuICAgICAgICBoaWdobGlnaHRlZFNxdWFyZXMuZm9yRWFjaChzcXVhcmUgPT4ge1xuICAgICAgICAgIHNxdWFyZS5jbGFzc0xpc3QuYWRkKCdjb250YWluLXNoaXAnKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIXNoaXBMZW5zW2N1cnJlbnRTaGlwXSkge1xuICAgICAgICAvLyBjcmVhdGUgQUkgc2hpcHMgYW5kIHN0YXJ0IGdhbWVcbiAgICAgICAgQUkucGxhY2VTaGlwKDEpIFxuICAgICAgICBBSS5wbGFjZVNoaXAoMikgXG4gICAgICAgIEFJLnBsYWNlU2hpcCgyKSBcbiAgICAgICAgQUkucGxhY2VTaGlwKDIpIFxuICAgICAgICBBSS5wbGFjZVNoaXAoMykgXG4gICAgICAgIEFJLnBsYWNlU2hpcCg1KSBcbiAgICAgICAgQUkucGxhY2VTaGlwKDUpIFxuICAgICAgICBzdGFydEdhbWUocGxheWVyLCBBSSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHBsYXllckJvYXJkLmFwcGVuZChib3gpXG4gIH1cbiAgY29uc3QgYWxsQm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucHJlLWdhbWUnKVxuXG4gIC8vIGNyZWF0ZSB0aGUgc2hpcHMgbWFudWFsbHkgZm9yIHRlc3RpbmdcbiAgLy8gcGxheWVyLnBsYWNlU2hpcChbMSwxXSwgJ3JpZ2h0JywgMSlcbiAgLy8gcGxheWVyLnBsYWNlU2hpcChbMSwzXSwgJ3JpZ2h0JywgMilcbiAgLy8gcGxheWVyLnBsYWNlU2hpcChbMSw1XSwgJ3JpZ2h0JywgMylcbiAgLy8gcGxheWVyLnBsYWNlU2hpcChbMSw3XSwgJ3JpZ2h0JywgNClcbiAgLy8gcGxheWVyLnBsYWNlU2hpcChbMSw5XSwgJ3JpZ2h0JywgNSlcbiAgLy8gcGxheWVyLnBsYWNlU2hpcChbMTAsMTBdLCAnZG93bicsIDYpXG4gIC8vIEFJLnBsYWNlU2hpcCgxKSBcbiAgLy8gQUkucGxhY2VTaGlwKDIpIFxuICAvLyBBSS5wbGFjZVNoaXAoMikgXG4gIC8vIEFJLnBsYWNlU2hpcCgyKSBcbiAgLy8gQUkucGxhY2VTaGlwKDMpIFxuICAvLyBBSS5wbGFjZVNoaXAoNSkgXG4gIC8vIEFJLnBsYWNlU2hpcCg1KSBcblxuICAvLyBnYW1lTG9vcChwbGF5ZXIsIEFJKVxufSIsImltcG9ydCBwcmVwYXJlR2FtZSBmcm9tIFwiLi9Nb2R1bGVzL3ByZXBhcmVHYW1lXCI7XG5pbXBvcnQgQUlwbGF5ZXIgZnJvbSBcIi4vY29uc3RydWN0b3JzL0FJcGxheWVyXCI7XG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL2NvbnN0cnVjdG9ycy9QbGF5ZXJcIjtcbmltcG9ydCAnLi9zdHlsZXMvc3R5bGVzLmNzcydcbmltcG9ydCAnLi9zdHlsZXMvd2lubmVyLW92ZXJsYXkuY3NzJ1xuaW1wb3J0ICcuL3N0eWxlcy9wcmVwYXJlLWdhbWUuY3NzJ1xuXG4vLyBjcmVhdGUgdGhlIHBsYXllcnNcbmNvbnN0IHBsYXllciA9IFBsYXllcigncGxheWVyJylcbmNvbnN0IEFJID0gQUlwbGF5ZXIoKVxuXG5wcmVwYXJlR2FtZShwbGF5ZXIsIEFJKVxuXG5jb25zdCBwbGF5QWdhaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2lubmVyLW92ZXJsYXkgPiBwJylcblxucGxheUFnYWluLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKClcbn0pXG4iLCJpbXBvcnQgR2FtZUJvYXJkIGZyb20gXCIuL0dhbWVCb2FyZFwiXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBsYXllcihwbGF5ZXJOYW1lKSB7XG4gIGNvbnN0IG5hbWUgPSBwbGF5ZXJOYW1lXG4gIGNvbnN0IGdhbWVCb2FyZCA9IG5ldyBHYW1lQm9hcmQoKVxuXG4gIHJldHVybiB7XG4gICAgbmFtZSxcbiAgICBnYW1lQm9hcmQsXG4gICAgZ2V0IGJvYXJkKCkge1xuICAgICAgcmV0dXJuIGdhbWVCb2FyZC5ib2FyZFxuICAgIH0sXG5cbiAgICBwbGFjZVNoaXAoY29vcmQsIGRpcmVjdGlvbiwgbGVuKSB7XG4gICAgICByZXR1cm4gZ2FtZUJvYXJkLnBsYWNlU2hpcChjb29yZCwgZGlyZWN0aW9uLCBsZW4pXG4gICAgfSxcblxuICAgIHNob290KHRhcmdldCwgY29vcmQpIHtcbiAgICAgIHRhcmdldC5nYW1lQm9hcmQucmVjZWl2ZUF0dGFjayhjb29yZClcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgR2FtZUJvYXJkIGZyb20gXCIuL0dhbWVCb2FyZFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBSXBsYXllcigpIHtcbiAgY29uc3QgbmFtZSA9ICdBSSdcbiAgY29uc3QgZ2FtZUJvYXJkID0gbmV3IEdhbWVCb2FyZCgpXG4gIGxldCBhbGxTaGlwc1BsYWNlZCA9IHRydWVcblxuICByZXR1cm4ge1xuICAgIG5hbWUsXG4gICAgZ2FtZUJvYXJkLFxuICAgIGdldCBib2FyZCgpIHtcbiAgICAgIHJldHVybiBnYW1lQm9hcmQuYm9hcmRcbiAgICB9LFxuXG4gICAgcGxhY2VTaGlwKGxlbikge1xuICAgICAgY29uc3QgaWQgPSBjcnlwdG8ucmFuZG9tVVVJRCgpXG4gICAgICAvLyBsaW1pdCB0aGUgYW1vdW50IG9mIGF0dGVtcHRzXG4gICAgICBsZXQgYXR0ZW1wdHMgPSAwXG4gICAgICB3aGlsZShhdHRlbXB0cyA8IDEwMDApIHtcbiAgICAgICAgYXR0ZW1wdHMrK1xuICAgICAgICAvLyBkZWNsYXJlIGVtcHR5IGNvb3JkcyBhcnJheVxuICAgICAgICBsZXQgY29vcmRzID0gW11cblxuICAgICAgICAvLyBnZW5lcmF0ZSByYW5kb20gY29vcmRpbmF0ZXNcbiAgICAgICAgY29uc3QgeCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTApXG4gICAgICAgIGNvbnN0IHkgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDEwKVxuXG4gICAgICAgIC8vIHB1c2ggdGhlbSB0byB0aGUgYXJyYXlcbiAgICAgICAgY29vcmRzLnB1c2goeClcbiAgICAgICAgY29vcmRzLnB1c2goeSlcblxuICAgICAgICAvLyBwaWNrIHJhbmRvbSBkaXJlY3Rpb25cbiAgICAgICAgY29uc3QgcG9zc2libGVEaXJlY3Rpb25zID0gWydyaWdodCcsICdkb3duJ11cbiAgICAgICAgY29uc3QgcmFuZG9tRGlyZWN0aW9uID0gcG9zc2libGVEaXJlY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlRGlyZWN0aW9ucy5sZW5ndGgpXVxuXG4gICAgICAgIC8vIHRyeSB0byBwbGFjZSBzaGlwXG4gICAgICAgIGdhbWVCb2FyZC5wbGFjZVNoaXAoY29vcmRzLCByYW5kb21EaXJlY3Rpb24sIGxlbiwgaWQpXG5cbiAgICAgICAgLy8gZ2V0IHRoZSBzaGlwIGxvY2F0aW9uIG9uIHRoZSBib2FyZFxuICAgICAgICBsZXQgbG9jYXRpb24gPSBnYW1lQm9hcmQuYm9hcmQuZmluZChib3ggPT4gYm94LmNvb3JkaW5hdGVzLmV2ZXJ5KChjb29yZCwgaW5kZXgpID0+IGNvb3JkID09PSBjb29yZHNbaW5kZXhdKSlcblxuICAgICAgICAvLyBjaGVjayBpZiBzaGlwIGlzIHByZXNlbnQgYXQgdGhlIGxvY2F0aW9uXG4gICAgICAgIGlmKGxvY2F0aW9uLnNoaXAgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIGNoZWNrIGlmIGl0cyB0aGUgc2hpcCB3ZSBqdXN0IGNyZWF0ZWRcbiAgICAgICAgICBpZihsb2NhdGlvbi5zaGlwLmlkID09PSBpZCkge1xuICAgICAgICAgICAgYWxsU2hpcHNQbGFjZWQgPSB0cnVlXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvb3QodGFyZ2V0KSB7XG4gICAgICB3aGlsZSh0cnVlKSB7XG4gICAgICAgIC8vIGRlY2xhcmUgZW1wdHkgY29vcmRzIGFycmF5XG4gICAgICAgIGxldCBjb29yZHMgPSBbXVxuXG4gICAgICAgIC8vIGdlbmVyYXRlIHJhbmRvbSBjb29yZGluYXRlc1xuICAgICAgICBjb25zdCB4ID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMClcbiAgICAgICAgY29uc3QgeSA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTApXG5cbiAgICAgICAgLy8gcHVzaCB0aGVtIHRvIHRoZSBhcnJheVxuICAgICAgICBjb29yZHMucHVzaCh4KVxuICAgICAgICBjb29yZHMucHVzaCh5KVxuXG4gICAgICAgIC8vIGZpbmQgdGhlIGNvcnJlY3QgbG9jYXRpb24gb24gdGFyZ2V0IGJvYXJkXG4gICAgICAgIGNvbnN0IHRhcmdldEJvYXJkID0gdGFyZ2V0LmdhbWVCb2FyZC5ib2FyZFxuICAgICAgICBsZXQgbG9jYXRpb24gPSB0YXJnZXRCb2FyZC5maW5kKGJveCA9PiBib3guY29vcmRpbmF0ZXMuZXZlcnkoKGNvb3JkLCBpbmRleCkgPT4gY29vcmQgPT09IGNvb3Jkc1tpbmRleF0pKVxuXG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSBsb2NhdGlvbiB3YXMgYWxyZWFkeSBhdHRhY2tlZFxuICAgICAgICBpZighbG9jYXRpb24uYXR0YWNrZWQpIHtcbiAgICAgICAgICAvLyBpZiBub3QgYXR0YWNrXG4gICAgICAgICAgdGFyZ2V0LmdhbWVCb2FyZC5yZWNlaXZlQXR0YWNrKGxvY2F0aW9uLmNvb3JkaW5hdGVzKVxuICAgICAgICAgIHJldHVybiBsb2NhdGlvblxuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHllcywgcmVwZWF0XG4gICAgICB9XG4gICAgfVxuICB9XG59Il0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18iLCJVUkwiLCJfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwidXJsIiwib3B0aW9ucyIsIlN0cmluZyIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidGVzdCIsInNsaWNlIiwiaGFzaCIsIm5lZWRRdW90ZXMiLCJyZXBsYWNlIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm4iLCJnZXR0ZXIiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicCIsImIiLCJiYXNlVVJJIiwic2VsZiIsImhyZWYiLCJuYyIsInN0YXJ0R2FtZSIsInBsYXllciIsIkFJIiwicGxheWVyQm9hcmQiLCJnZXRFbGVtZW50QnlJZCIsIkFJQm9hcmQiLCJwbGFjZVNoaXBzVGl0bGUiLCJjaGFuZ2VEaXJlY3Rpb25CdG4iLCJBSVNpZGUiLCJjbGFzc0xpc3QiLCJhZGQiLCJpbm5lckhUTUwiLCJib2FyZCIsImJveCIsInNoaXAiLCJhcHBlbmQiLCJjb29yZGluYXRlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2tlZCIsInNob290IiwiaXNTdW5rIiwiYmFja2dyb3VuZENvbG9yIiwiQUlTdGF0ZSIsImNvbG9yIiwic2V0VGltZW91dCIsInNoaXBDb29yZGluYXRlcyIsImZvckVhY2giLCJjb29yZHMiLCJnYW1lQm9hcmQiLCJnZXRBZGphY2VudEJveGVzIiwiYWRqYWNlbnQiLCJpc0dhbWVPdmVyIiwiQUlIaXQiLCJpbmRleE9mIiwidGFyZ2V0Qm94IiwicGxheWVyU3RhdGUiLCJjdXJyZW50Qm94IiwiZmluZCIsImV2ZXJ5IiwiY29vcmQiLCJjdXJyZW50Qm94SW5kZXgiLCJ1cGRhdGVTaGlwc0RldGFpbHMiLCJwbGF5ZXJOYW1lIiwiQUlOYW1lIiwidGV4dENvbnRlbnQiLCJzaGlwcyIsInN1bmtTaGlwcyIsIm92ZXJsYXkiLCJ3aW5uZXJPdmVybGF5Iiwid2lubmVyTmFtZSIsImRpc3BsYXkiLCJuYW1lIiwiU2hpcCIsImxlbiIsImFyZ3VtZW50cyIsImhpdHMiLCJhZGRDb29yZGluYXRlcyIsImhpdCIsIkdhbWVCb2FyZCIsInRvdGFsSGl0cyIsIngiLCJ5IiwicGxhY2VTaGlwIiwiZGlyZWN0aW9uIiwiY29vcmRzQ29weSIsImNob3NlbkxvY2F0aW9uIiwiYXZhaWxhYmxlIiwiYmF0dGxlc2hpcCIsImNvb3JkaW5hdGVzQ29weSIsImN1cnJlbnRDb29yZHMiLCJhZGphY2VudExvY2F0aW9ucyIsImN1cnJlbnQiLCJyZWNlaXZlQXR0YWNrIiwiZmlsdGVyIiwiaGFzQXJtZWRTaGlwcyIsImFybWVkU2hpcHMiLCJzaGlwTGVucyIsImN1cnJlbnRTaGlwIiwiZGlyZWN0aW9uVGV4dCIsImFsbEJveGVzIiwic3F1YXJlIiwiaG92ZXJlZENvb3JkcyIsInNwbGl0IiwiYm94WCIsImJveFkiLCJzcXVhcmVDb29yZCIsInNxdWFyZVgiLCJzcXVhcmVZIiwiaG92ZXJlZENvb3Jkc1N0cmluZyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcmVwYXJlR2FtZSIsIlBsYXllciIsImFsbFNoaXBzUGxhY2VkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImF0dGVtcHRzIiwiTWF0aCIsImNlaWwiLCJyYW5kb20iLCJwb3NzaWJsZURpcmVjdGlvbnMiLCJyYW5kb21EaXJlY3Rpb24iLCJmbG9vciIsIkFJcGxheWVyIiwicmVsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==